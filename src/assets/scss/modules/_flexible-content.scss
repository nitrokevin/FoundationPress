//GLOBAL
section, article {
  &.primary-color {
    background-color: $primary-color;
    .entry-content, .entry-footer, .main-content,h1,h2,h3,h4,h5 {
      color: $white;
    }
    a { color: $white;}
  }

  &.secondary-color {
    background-color: $secondary-color;
    .entry-content, .entry-footer, .main-content ,h1,h2,h3,h4,h5{
      color: $white;
    }
    a { color: $white;}
  }
  &.white {
    background-color: $white;
    .entry-content, .entry-footer, .main-content ,h1,h2,h3,h4,h5{
      color: $dark-gray;
    }
  }


  &.dark-gray {
    background-color: $secondary-color;

    .entry-content, .entry-footer,h1,h2,h3,h4,h5 {
      color: $white;
      
    }
  }
  &.light-gray {
    background-color: $light-gray;

    .entry-content, .entry-footer,h1,h2,h3,h4,h5  {
      color: $primary-color;
    }
    a { color: $secondary-color;}
  }

  &.transparent {
    background-color: transparent;
    .button {color:$white;
     border: 1px solid $white}
     a { color: $white;}
  }
  &.background-image {
    .entry-content, .entry-footer {
      color: $white;
    }
    a { color: $white;}
  }
}
h1,h2,h3,h4,h5,h6 {
  &.primary-color{color: $primary-color;}
  &.secondary-color{color: $secondary-color;}
  &.white{color: $white;}
  &.dark-gray{color: $dark-gray;}
}


// FLEXIBLE LAYOUTS
.flexible-layout-article-container {

  &.align-normal, .align-full {
    @include xy-grid-container();
    @include xy-grid();
    @include flex-align($x:center, $y:top);
  }
  &.align-inset {
    @include xy-grid-container();
    @include breakpoint(medium) {
    @include xy-grid-container(1000px);
    }
  }
  


  .flexible-layout-article-grid {
    @include xy-grid();
    @include flex-align($x:center, $y:top);

    &.small-padding {
      padding-top: $global-padding;
      padding-bottom: $global-padding;
    }
  
    &.large-padding {
      padding-top: $global-padding*3;
      padding-bottom: $global-padding*3;
    }

    .header-image-container{
      @include flex-align($x:center, $y:top);
     @include xy-grid();
     width:100%;
     .header-image-content{
      @include xy-cell(4);
      @include breakpoint(medium) {
      @include xy-cell(8);
      }
     }

    .header-image {
      width:100%;
      background-repeat: no-repeat;
      background-size: contain;
      padding-bottom:100%;
     
    }
  }
  }

  .section-header {
  
    @include breakpoint(medium) {
    @include xy-cell(12);
    }
    text-align: center;
    margin: $global-margin 0;
    
  }

  .section-content {
    text-align: center;
    margin-bottom: $global-margin;
  }

  $blockgrid: 
  "one-column-small-one-column-large" 1 1 1,
  "one-column-small-two-columns-large" 1 2 2,
  "one-column-small-three-columns-large" 1 3 3,
  "one-column-small-four-columns-large" 1 2 4,
  "two-columns-small-one-column-large" 2 2 1,
  "two-columns-small-two-columns-large" 2 2 2,
  "two-columns-small-three-columns-large" 2 3 3,
  "two-columns-small-four-columns-large" 2 2 4,
  "two-columns-small-five-columns-large" 2 5 5,
  "three-columns-small-one-column-large" 3 3 1,
  "three-columns-small-two-columns-large" 3 3 2,
  "three-columns-small-three-columns-large" 3 3 3,
  
  ;
 
  @each $name, $small-columns, $medium-columns, $large-columns in $blockgrid {
    .flexible-layout-article-#{$name}{
      @include xy-grid();
      @include xy-cell(12);
      @include breakpoint(small) {
        @include xy-grid-layout($small-columns, '.flexible-item', $output: (size gutters));
       
       .cell-background-image {
        padding-bottom: 30%;
      }
      }
      @include breakpoint(medium) {
        @include xy-cell(12);
        @include xy-grid-layout($medium-columns, '.flexible-item',  $output: (size gutters));
        .cell-background-image {
          padding-bottom: 20%;
        }
    }
    @include breakpoint(large) {
      @include xy-cell(12);
      @include xy-grid-layout($large-columns, '.flexible-item', $output: (size gutters));
      .cell-background-image {
        padding-bottom: 15%;
      }
  }
  }
  }



  .entry-footer, .entry-content, .entry-header {
    width: 100%;
  }
  img{
    
    padding: 1rem 3rem; 
  }

  .mobile-default {
    @include breakpoint(small only) {
      order: 3;
    }
  }

  .mobile-first {
    @include breakpoint(small only) {
      order: 1;
    }
  }

  .mobile-second {
    @include breakpoint(small only) {
      order: 2;
    }
  }

  .mobile-third {
    @include breakpoint(small only) {
      order: 3;
    }
  }



article.align-top-left {
    @include flex-align($y:top);
    @include flex-align-self($y:stretch);
    text-align: left;
   
  }
  
  article.align-top-center {
    @include flex-align($y:middle);
    @include flex-align-self($y:stretch);
    text-align: center;
  
  
  }
  
  article.align-top-right {
    @include flex-align($y:stretch, $x:right);
    text-align: right;
  }
  
  article.align-middle-left {
    @include flex-align($y:top);
    @include flex-align-self($y:middle);
    text-align: left;
  }
  
  article.align-middle-center {
    @include flex-align($y:middle);
    @include flex-align-self($y:middle);
    text-align: center;
  }
  
  article.align-middle-right {
    @include flex-align($y:bottom);
    @include flex-align-self($y:middle);
    text-align: right;
  }
  
  article.align-bottom-left {
    @include flex-align($y:top);
    @include flex-align-self($y:bottom);
    text-align: left;
  }
  
  article.align-bottom-center {
    @include flex-align($y:middle);
    @include flex-align-self($y:bottom);
    text-align: center;
  }
  
  article.align-bottom-right {
    @include flex-align($y:bottom);
    @include flex-align-self($y:bottom);
    text-align: right;
  }
  
  
  .entry-footer.align-top-left {
    text-align: left;
  }
  
  .entry-footer.align-top-center {
    @include flex-align($y:top, $x:center);
    text-align: center;
  
  }
  
  .entry-footer.align-top-right {
    @include flex-align($x:right);
  }
  
  .entry-footer.align-middle-left {
    @include flex-align($y:bottom);
  }
  
  .entry-footer.align-middle-center {
    @include flex-align($x:center);
  }
  
  .entry-footer.align-middle-right {
    @include flex-align($x:right);
  }
  
  .entry-footer.align-bottom-left {
    @include flex-align-self(bottom);
    text-align: right;
  }
  
  .entry-footer.align-bottom-center {
    @include flex-align($x:center);
  }
  
  .entry-footer.align-bottom-right {
    @include flex-align($x:right);
  }
  .background-image {
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    position: relative;
    z-index: 0;
  }
  
  .cell-background-image {
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    position: relative;
    height: 0;
  }
  .cell-background-image-contain {
    background-size: 80%;

  }

  
  .sidebar {
    section {
      h1,
      h2,
      h3,
      h4,
      h5 {
  
        margin-bottom: $global-margin;
      }
    }
  }

  
  article {
  margin-bottom:1rem;
    h1,
    h2,
    h3,
    h4,
    h5 {
      font-weight: $global-weight-normal;
      margin-bottom: $global-margin;
    }
  
    &.small-padded-text {
      p,
      h1,
      h2,
      h3,
      h4,
      h5 {
        padding: .4rem;
      }
    }
  
    &.large-padded-text {
  
      p,
      h1,
      h2,
      h3,
      h4,
      h5 {
        padding: 1rem;
      }
    }
  }
}

  //Shortcode

  .shortcode-container {
    &.align-normal {
      @include xy-grid-container;
    }

  
    .shortcode-grid {
      @include xy-grid();
      @include flex-align($x:center, $y:top);

      &.no-padding {
        padding-top:0;
        padding-bottom:0;
      }
        
    &.small-padding {
      padding-top: $global-padding;
      padding-bottom: $global-padding;
    }
    &.large-padding {
      padding-top: $global-padding*2;
      padding-bottom: $global-padding*2;
    }
  
      .shortcode-content {
        @include xy-cell(10, true, 0);
        text-align: center;
        header{
          text-transform: uppercase;
        }
      }
    }
  }

  // Hover BLOCK

.hover-block-grid-container{
  @include breakpoint(medium) {
  @include xy-grid-container();
  &.small-padding {
    padding-top: $global-padding;
    padding-bottom: $global-padding;
  }
  &.large-padding {
    padding-top: $global-padding*2;
    padding-bottom: $global-padding*2;
  }
  }
  .hover-block-grid{
    @include xy-grid();
    @include flex-align($x:center);

 }

    .hover-block-grid-one-columns-small-three-columns-large {
      @include xy-grid();
      @include xy-cell(12,$gutters: 0);
      margin-top:$global-margin;
      margin-bottom: 0;
      @include xy-grid-layout(2, '.hover-block-grid-item', $output: (size gutters));
      @include breakpoint(large) {
        @include xy-grid-layout(3, '.hover-block-grid-item', $output: (size gutters));
        }
      @include flex-align($x:left, $y:middle);
      margin-left:0;
    &.primary-color{background: $primary-color;}
    &.secondary-color{background: $secondary-color;}
    &.white{background: $white;}
    &.dark-gray{background: $dark-gray;}

    }


    .hover-block-grid-item {
      
      list-style: none;
      margin:0;
      margin-bottom:$global-margin;
  
    }
   

  /* turning on hover */


  .hover-container:hover .no-hoverper  {
    transform: rotateY(0deg) !important;
  }
  
  .hover-container,
  .hover-front,
  .hover-back {
    
    text-align: center;
    p,a{    
      margin-bottom: 0rem;
      font-size: rem-calc(14);
      @include breakpoint(medium) {
        font-size: rem-calc(18);
      }
      @include breakpoint(large) {
        font-size: rem-calc(14);
      }
      @include breakpoint(xlarge) {
        font-size: rem-calc(14);
      }
      @include breakpoint(xxlarge) {
        font-size: rem-calc(16);
      }
    }
      h3{    
        font-size: rem-calc(16);
        @include breakpoint(medium) {
          font-size: rem-calc(30);
        }
        @include breakpoint(large) {
          font-size: rem-calc(14);
        }
        @include breakpoint(xlarge) {
          font-size: rem-calc(16);
        }
        @include breakpoint(xxlarge) {
          font-size: rem-calc(18);
        }
      }
      font-weight: $global-weight-bold;
     
      text-transform: uppercase;

    img {
      padding: 0 2rem;
    }
  }
  .hover, .no-hover {
    transition: 0.7s;
    transform-style: preserve-3d;
    position: relative;
    padding-bottom:100%;
  }
  .front-header, .back-header{
    margin-bottom: 0;
    @include flex-align-self(middle);
    &.force-center{
      @include absolute-center;
    }
  }
  
  .hover-front,
  .hover-back {
    @include xy-grid();
     @include flex-align($x:center, $y:bottom);
     margin-bottom: 0rem !important;
    background-repeat: no-repeat !important;
    background-size: cover !important;
    backface-visibility: hidden;
    background-position: center !important;
    position: absolute;
    top: 0;
    left: 0;
    padding:$global-padding;
    @include breakpoint(large) {
      padding:$global-padding;
      }
    @include breakpoint(xlarge) {
    padding:$global-padding;
    }
    &.primary-color{background: $primary-color;color:$dark-gray; h1,h2,h3,h4,h5{color:$dark-gray;}}
    &.secondary-color{background: $secondary-color;color:$white;h1,h2,h3,h4,h5{color:$white;}}


  }
  .cell-background-image-contain {
    background-size: 80% !important;

  }
  
  .hover-front{
    width: 100%;
    height: 100%;
    background:$secondary-color;
    backface-visibility:hidden;

    transform:perspective(800px) rotateY(0deg);

    transition:0.5s ease-in-out;
  }
  
  .hover-back {
    width: 100%;
    height: 100%;

    backface-visibility:hidden;

    transform:perspective(800px) rotateY(180deg);

    transition:0.5s ease-in-out;
  }
  .hover-container:hover .hover .hover-front  {

  transform:perspective(800px) rotateY(-179.9deg);

  transition:0.5s ease-in-out;
  }
  .hover-container:hover .hover .hover-back  {

  transform:perspective(800px) rotateY(0);
  transition:0.5s ease-in-out;
  }
}
